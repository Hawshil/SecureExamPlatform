<Window x:Class="SecureExamPlatform.UI.FacultyDashboard"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Faculty Dashboard - Secure Exam Platform"
        Height="700" Width="900"
        WindowStartupLocation="CenterScreen"
        Background="#f5f5f5">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="40">
            <!-- Header -->
            <Border Background="#4caf50" CornerRadius="10" Padding="30,20" Margin="0,0,0,30">
                <StackPanel>
                    <TextBlock Text="👨‍🏫 Faculty Dashboard" 
                               FontSize="28" 
                               FontWeight="Bold" 
                               Foreground="White"/>
                    <TextBlock Text="Generate login codes for students" 
                               FontSize="14" 
                               Foreground="#e8f5e9"
                               Margin="0,5,0,0"/>
                </StackPanel>
            </Border>

            <!-- Status Message -->
            <TextBlock x:Name="StatusText"
                       FontSize="13"
                       Margin="0,0,0,20"
                       TextWrapping="Wrap"/>

            <!-- Step 1: Upload Exam -->
            <Border Background="White" 
                    BorderBrush="#e0e0e0"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="20"
                    Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="📝 Step 1: Upload Exam" 
                               FontSize="18" 
                               FontWeight="Bold"
                               Margin="0,0,0,10"/>
                    <TextBlock Text="Upload your exam JSON file" 
                               FontSize="13"
                               Foreground="#666"
                               Margin="0,0,0,15"/>

                    <Button Content="📁 Upload Exam JSON File"
                            x:Name="UploadExamBtn"
                            Click="UploadExam_Click"
                            Height="45"
                            FontSize="14"
                            Background="#2196f3"
                            Foreground="White"
                            BorderThickness="0"
                            Cursor="Hand"/>
                </StackPanel>
            </Border>

            <!-- Step 2: Select Exam -->
            <Border Background="White" 
                    BorderBrush="#e0e0e0"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="20"
                    Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="📋 Step 2: Select Exam" 
                               FontSize="18" 
                               FontWeight="Bold"
                               Margin="0,0,0,10"/>
                    <TextBlock Text="Choose which exam to generate codes for" 
                               FontSize="13"
                               Foreground="#666"
                               Margin="0,0,0,15"/>

                    <ComboBox x:Name="ExamSelector"
                              Height="45"
                              FontSize="14"
                              Margin="0,0,0,0"/>
                </StackPanel>
            </Border>

            <!-- Step 3A: Single Student -->
            <Border Background="White" 
                    BorderBrush="#e0e0e0"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="20"
                    Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="🎓 Step 3A: Generate Code for Single Student" 
                               FontSize="18" 
                               FontWeight="Bold"
                               Margin="0,0,0,10"/>
                    <TextBlock Text="Enter one student ID to generate a login code" 
                               FontSize="13"
                               Foreground="#666"
                               Margin="0,0,0,15"/>

                    <TextBlock Text="Student ID:" 
                               FontSize="13"
                               Margin="0,0,0,5"/>
                    <TextBox x:Name="SingleStudentIdBox"
                             Height="45"
                             FontSize="14"
                             Margin="0,0,0,15"
                             CharacterCasing="Upper"/>

                    <Button Content="🔑 Generate Login Code"
                            Click="GenerateSingleCode_Click"
                            Height="45"
                            FontSize="14"
                            Background="#4caf50"
                            Foreground="White"
                            BorderThickness="0"
                            Cursor="Hand"/>
                </StackPanel>
            </Border>

            <!-- Step 3B: Batch Generation -->
            <Border Background="White" 
                    BorderBrush="#e0e0e0"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="20"
                    Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="👥 Step 3B: Generate Codes for Multiple Students" 
                               FontSize="18" 
                               FontWeight="Bold"
                               Margin="0,0,0,10"/>
                    <TextBlock Text="Enter student IDs (one per line) to generate codes for entire class" 
                               FontSize="13"
                               Foreground="#666"
                               Margin="0,0,0,15"/>

                    <TextBlock Text="Student IDs (one per line):" 
                               FontSize="13"
                               Margin="0,0,0,5"/>
                    <TextBox x:Name="BatchStudentIdsBox"
                             Height="150"
                             FontSize="14"
                             AcceptsReturn="True"
                             TextWrapping="Wrap"
                             VerticalScrollBarVisibility="Auto"
                             Margin="0,0,0,15"
                             CharacterCasing="Upper"/>

                    <Button Content="🔑 Generate All Codes"
                            Click="GenerateBatchCodes_Click"
                            Height="45"
                            FontSize="14"
                            Background="#4caf50"
                            Foreground="White"
                            BorderThickness="0"
                            Cursor="Hand"
                            Margin="0,0,0,15"/>

                    <!-- Batch Output -->
                    <Border x:Name="BatchCodesOutputBorder"
                            Background="#f5f5f5"
                            BorderBrush="#e0e0e0"
                            BorderThickness="1"
                            CornerRadius="5"
                            Padding="15"
                            Visibility="Collapsed">
                        <StackPanel>
                            <TextBlock x:Name="BatchCodesOutput"
                                     FontFamily="Consolas"
                                     FontSize="12"
                                     TextWrapping="Wrap"
                                     MinHeight="200"
                                     MaxHeight="400"/>

                            <StackPanel Orientation="Horizontal" Margin="0,15,0,0">
                                <Button Content="📋 Copy to Clipboard"
                                        Click="CopyBatchCodes_Click"
                                        Height="40"
                                        Width="180"
                                        FontSize="13"
                                        Background="#2196f3"
                                        Foreground="White"
                                        BorderThickness="0"
                                        Margin="0,0,10,0"
                                        Cursor="Hand"/>

                                <Button Content="💾 Export to File"
                                        Click="ExportBatchCodes_Click"
                                        Height="40"
                                        Width="180"
                                        FontSize="13"
                                        Background="#ff9800"
                                        Foreground="White"
                                        BorderThickness="0"
                                        Cursor="Hand"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Border>

            <!-- Help Section -->
            <Border Background="#e3f2fd" 
                    BorderBrush="#2196f3"
                    BorderThickness="2"
                    CornerRadius="8"
                    Padding="20">
                <StackPanel>
                    <TextBlock Text="ℹ️ How to Use" 
                               FontSize="16" 
                               FontWeight="Bold"
                               Foreground="#1976d2"
                               Margin="0,0,0,10"/>

                    <TextBlock TextWrapping="Wrap" 
                               FontSize="13"
                               Foreground="#555">
                        <Run Text="1. Upload your exam JSON file" FontWeight="Bold"/>
                        <LineBreak/>
                        <Run Text="   • Prepare your questions in JSON format and upload the file"/>
                        <LineBreak/><LineBreak/>
                        
                        <Run Text="2. Select the exam from dropdown" FontWeight="Bold"/>
                        <LineBreak/>
                        <Run Text="   • Choose which exam you want to generate codes for"/>
                        <LineBreak/><LineBreak/>
                        
                        <Run Text="3. Generate login codes" FontWeight="Bold"/>
                        <LineBreak/>
                        <Run Text="   • Option A: Generate for single student (quick)"/>
                        <LineBreak/>
                        <Run Text="   • Option B: Generate for entire class (batch)"/>
                        <LineBreak/><LineBreak/>
                        
                        <Run Text="4. Share codes with students" FontWeight="Bold"/>
                        <LineBreak/>
                        <Run Text="   • Each code is single-use and expires after first login"/>
                        <LineBreak/>
                        <Run Text="   • Students enter their Student ID + Login Code to start exam"/>
                    </TextBlock>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</Window>